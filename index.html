<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tifawinee ‚Äî Abayas & v√™tements modestes</title>
  <meta name="description" content="Tifawinee : Abayas, robes, jilbabs et hijabs √©l√©gants pour femmes musulmanes. Qualit√©, confort, pudeur. Livraison France & Tunisie. Commande par WhatsApp.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üßï</text></svg>">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Inter","ui-sans-serif","system-ui","sans-serif"] },
          colors: { brand: { 50:"#f5f7fb",100:"#e9eef6",200:"#cfdaf0",300:"#a9c0e6",400:"#7a9ad6",500:"#4f73c3",600:"#3f5ca1",700:"#344b81",800:"#2b3f6a",900:"#24365a" } }
        }
      }
    }
  </script>
  <style>
    .soft{ box-shadow:0 8px 30px rgba(0,0,0,.07) }
    .glass{ backdrop-filter:blur(8px); background:rgba(255,255,255,.75) }
  </style>
</head>
<body class="font-sans text-slate-800 bg-slate-50">
  <!-- Header -->
  <header class="sticky top-0 z-40 border-b border-slate-200 bg-white/90 glass">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center justify-between">
      <a href="#" class="text-xl font-bold tracking-tight">Tifawinee</a>
      <nav class="hidden md:flex items-center gap-6">
        <a href="#catalogue" class="hover:text-brand-700">Collection</a>
        <a href="#tailles" class="hover:text-brand-700">Tailles</a>
        <a href="#contact" class="hover:text-brand-700">Contact</a>
      </nav>
      <div class="flex items-center gap-3">
        <button id="openCart" class="relative rounded-xl border px-4 py-2 hover:bg-white transition">
          Panier
          <span data-cart-badge class="hidden absolute -right-2 -top-2 text-xs bg-slate-900 text-white rounded-full px-1.5 py-0.5">0</span>
        </button>
        <a href="https://wa.me/33600000000" target="_blank" class="inline-flex items-center rounded-xl bg-brand-700 px-4 py-2 text-white hover:bg-brand-800 transition">
          WhatsApp
        </a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-7xl px-4 pt-10 pb-8">
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h1 class="text-3xl sm:text-5xl font-extrabold leading-tight">
          Abayas & v√™tements modestes<br class="hidden sm:block"> √©l√©gants du quotidien
        </h1>
        <p class="mt-3 text-slate-600">Coupes fluides, mati√®res s√©lectionn√©es et finitions soign√©es. Exp√©dition France & Tunisie.</p>
        <div class="mt-5 flex gap-3">
          <a href="#catalogue" class="rounded-xl bg-slate-900 text-white px-5 py-3 hover:bg-slate-800 transition">Voir la collection</a>
          <a href="https://wa.me/33600000000" target="_blank" class="rounded-xl border border-slate-300 px-5 py-3 hover:bg-white transition">Commander par WhatsApp</a>
        </div>
        <div class="mt-5 flex flex-wrap gap-2">
          <span class="text-xs px-3 py-1 rounded-full bg-white border">Abayas</span>
          <span class="text-xs px-3 py-1 rounded-full bg-white border">Robes</span>
          <span class="text-xs px-3 py-1 rounded-full bg-white border">Jilbabs</span>
          <span class="text-xs px-3 py-1 rounded-full bg-white border">Hijabs</span>
        </div>
      </div>
      <div class="rounded-3xl overflow-hidden soft">
        <img src="https://images.unsplash.com/photo-1520974859131-5a6a1c01f27c?q=80&w=1400&auto=format&fit=crop" alt="Collection Tifawinee" class="w-full h-[320px] object-cover">
      </div>
    </div>
  </section>

  <!-- Filtres + Catalogue -->
  <section id="catalogue" class="mx-auto max-w-7xl px-4 pb-14">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
      <h2 class="text-2xl font-bold">Nouvelle collection</h2>
      <div class="flex gap-2">
        <button data-filter="all"   class="filter-btn rounded-xl border px-3 py-1.5 text-sm bg-white">Tout</button>
        <button data-filter="abaya" class="filter-btn rounded-xl border px-3 py-1.5 text-sm bg-white">Abayas</button>
        <button data-filter="robe"  class="filter-btn rounded-xl border px-3 py-1.5 text-sm bg-white">Robes</button>
        <button data-filter="jilbab"class="filter-btn rounded-xl border px-3 py-1.5 text-sm bg-white">Jilbabs</button>
        <button data-filter="hijab" class="filter-btn rounded-xl border px-3 py-1.5 text-sm bg-white">Hijabs</button>
      </div>
    </div>

    <div id="grid" class="grid gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"></div>
    <p class="mt-3 text-sm text-slate-500">Astuce : remplace les photos par tes images (place-les dans <code>/assets</code> et √©dite les produits dans le script en bas).</p>
  </section>

  <!-- Tailles -->
  <section id="tailles" class="mx-auto max-w-7xl px-4 pb-14">
    <div class="rounded-2xl bg-white border soft p-6">
      <h2 class="text-2xl font-bold mb-2">Guide des tailles</h2>
      <p class="text-slate-600 mb-4">Coupe ample et fluide. Si tu h√©sites entre deux tailles, choisis la plus grande.</p>
      <div class="grid sm:grid-cols-3 gap-4 text-sm">
        <div class="p-4 border rounded-xl">
          <div class="font-semibold mb-1">Abayas</div>
          <p>34‚Äì52 ‚Ä¢ Longueurs 135/140 cm</p>
        </div>
        <div class="p-4 border rounded-xl">
          <div class="font-semibold mb-1">Robes</div>
          <p>XS‚ÄìXXL ‚Ä¢ Coupe √©vas√©e</p>
        </div>
        <div class="p-4 border rounded-xl">
          <div class="font-semibold mb-1">Jilbabs/Hijabs</div>
          <p>Taille unique ‚Ä¢ Plusieurs coloris</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="mx-auto max-w-7xl px-4 pb-20">
    <div class="rounded-2xl bg-white border soft p-6">
      <h2 class="text-2xl font-bold mb-2">Contact</h2>
      <p class="text-slate-600">Email : <a class="underline" href="mailto:contact@tifawinee.fr">contact@tifawinee.fr</a></p>
      <p class="text-slate-600">WhatsApp : <a class="underline" href="https://wa.me/33600000000" target="_blank">+33 6 00 00 00 00</a></p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t bg-white">
    <div class="mx-auto max-w-7xl px-4 py-8 text-sm text-slate-500 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between">
      <span>¬© <span id="y"></span> Tifawinee ‚Äî Tous droits r√©serv√©s</span>
      <div class="flex gap-4">
        <a href="#catalogue" class="hover:text-slate-700">Collection</a>
        <a href="#tailles" class="hover:text-slate-700">Tailles</a>
        <a href="#contact" class="hover:text-slate-700">Contact</a>
      </div>
    </div>
  </footer>

  <!-- POPUP PANIER -->
  <div id="cartModal" class="fixed inset-0 hidden">
    <div class="absolute inset-0 bg-black/40" aria-hidden="true"></div>
    <div class="relative mx-auto max-w-3xl bg-white rounded-2xl soft mt-10 md:mt-20 overflow-hidden">
      <div class="flex items-center justify-between px-5 py-4 border-b">
        <h3 class="text-lg font-semibold">Mon panier</h3>
        <button id="closeCart" class="rounded-lg px-2 py-1 hover:bg-slate-100">‚úï</button>
      </div>
      <div class="p-4">
        <div id="empty" class="hidden rounded-xl border bg-white p-6 text-slate-600">
          Votre panier est vide. <a class="underline" href="#catalogue" id="closeAndShop">Voir la collection</a>.
        </div>

        <div id="cartBox" class="rounded-xl border bg-white overflow-hidden hidden">
          <table class="w-full text-sm">
            <thead class="bg-slate-100">
              <tr>
                <th class="text-left p-3">Produit</th>
                <th class="text-left p-3">Prix</th>
                <th class="text-left p-3">Qt√©</th>
                <th class="text-left p-3">Sous-total</th>
                <th class="p-3"></th>
              </tr>
            </thead>
            <tbody id="rows"></tbody>
          </table>
          <div class="flex items-center justify-between p-4 border-t">
            <button id="clear" class="text-sm underline">Vider le panier</button>
            <div class="text-right">
              <div class="text-slate-600 text-sm">Total</div>
              <div id="total" class="text-xl font-semibold">‚Äî</div>
            </div>
          </div>
        </div>

        <div class="mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between">
          <button id="continue" class="rounded-xl border px-4 py-2 bg-white">‚Üê Continuer mes achats</button>
          <button id="wa" class="rounded-xl bg-green-600 text-white px-4 py-2 hover:bg-green-700">Commander sur WhatsApp</button>
        </div>
      </div>
    </div>
  </div>

  <!-- SCRIPTS : Produits + Panier + Rendu -->
  <script>
    // ------------ CONFIG ------------
    const WHATSAPP_NUMBER = "33600000000"; // ‚Üê remplace par ton num√©ro (international, sans +)

    // ------------ DONN√âES PRODUITS (modifie ici) ------------
    const PRODUCTS = [
      { id:"abaya-classique",  title:"Abaya Classique",       subtitle:"Noir ‚Ä¢ du 34 au 50", price:"49,00 ‚Ç¨", category:"abaya", image:"https://images.unsplash.com/photo-1532767153582-b1a0e5145009?q=80&w=1200&auto=format&fit=crop" },
      { id:"abaya-crepe",      title:"Abaya Cr√™pe Premium",   subtitle:"Beige ‚Ä¢ du 36 au 52", price:"59,00 ‚Ç¨", category:"abaya", image:"https://images.unsplash.com/photo-1509631179647-0177331693ae?q=80&w=1200&auto=format&fit=crop" },
      { id:"robe-evasee",      title:"Robe √âvas√©e",           subtitle:"S-XXL ‚Ä¢ 4 coloris",   price:"39,00 ‚Ç¨", category:"robe",  image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=1200&auto=format&fit=crop" },
      { id:"jilbab-2p",        title:"Jilbab 2 pi√®ces",       subtitle:"Taille unique",       price:"45,00 ‚Ç¨", category:"jilbab",image:"https://images.unsplash.com/photo-1544717305-996b815c338c?q=80&w=1200&auto=format&fit=crop" },
      { id:"hijab-mousseline", title:"Hijab Mousseline",      subtitle:"Couleurs vari√©es",    price:"12,00 ‚Ç¨", category:"hijab", image:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1200&auto=format&fit=crop" },
      { id:"abaya-satin",      title:"Abaya Satin",           subtitle:"Vert olive ‚Ä¢ 34‚Äì48",  price:"65,00 ‚Ç¨", category:"abaya", image:"https://images.unsplash.com/photo-1520975891768-1c1ef2d7f2c6?q=80&w=1200&auto=format&fit=crop" }
    ];

    // ------------ PANIER (localStorage) ------------
    const CART_KEY = "tifawinee_cart_v1";
    const lsGet = k => { try{ return JSON.parse(localStorage.getItem(k))||[] }catch{ return [] } };
    const lsSet = (k,v) => localStorage.setItem(k, JSON.stringify(v));

    function loadCart(){ return lsGet(CART_KEY); }
    function saveCart(c){ lsSet(CART_KEY,c); updateCartBadge(); }
    function addToCart(p,qty=1){
      const c=loadCart(); const i=c.findIndex(x=>x.id===p.id);
      if(i>=0) c[i].qty+=qty; else c.push({id:p.id,title:p.title,price:p.price,image:p.image,qty});
      saveCart(c);
    }
    function removeFromCart(id){ saveCart(loadCart().filter(i=>i.id!==id)); }
    function setQty(id,qty){ const c=loadCart(); const it=c.find(i=>i.id===id); if(!it) return; it.qty=Math.max(1,qty|0); saveCart(c); }
    function clearCart(){ saveCart([]); }
    function cartCount(){ return loadCart().reduce((n,i)=>n+i.qty,0); }
    function parsePrice(p){ const n=(p+"").replace(/[^\d,.-]/g,"").replace(",","."); return parseFloat(n||"0"); }
    function formatPrice(n){ return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(n); }
    function cartTotal(){ return loadCart().reduce((s,i)=>s+parsePrice(i.price)*i.qty,0); }
    function updateCartBadge(){
      const el=document.querySelector("[data-cart-badge]");
      if(!el) return; const n=cartCount(); el.textContent=n; el.classList.toggle("hidden", n===0);
    }
    function buildWhatsAppText(){
      const c=loadCart(); if(!c.length) return "Bonjour, je souhaite passer une commande.";
      const lines=["Salam/Bonjour, je souhaite commander :",""];
      c.forEach((i,k)=>lines.push(`${k+1}. ${i.title} √ó${i.qty} ‚Äî ${i.price}`));
      lines.push("",`Total : ${formatPrice(cartTotal())}`,"","Nom :","Adresse de livraison :","T√©l√©phone :");
      return lines.join("\n");
    }
    function openWhatsAppWithCart(){
      const txt=encodeURIComponent(buildWhatsAppText());
      window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${txt}`,"_blank");
    }

    // ------------ RENDU CATALOGUE ------------
    const grid=document.getElementById("grid");
    let currentFilter="all";
    function render(products){
      grid.innerHTML="";
      products.filter(p=>currentFilter==="all" ? true : p.category===currentFilter).forEach(p=>{
        const card=document.createElement("article");
        card.className="bg-white border rounded-2xl overflow-hidden soft flex flex-col";
        card.innerHTML=`
          <img src="${p.image}" alt="${p.title}" class="w-full h-56 object-cover">
          <div class="p-4 flex-1 flex flex-col">
            <h3 class="font-semibold">${p.title}</h3>
            <p class="text-sm text-slate-600 mt-1">${p.subtitle}</p>
            <div class="mt-auto flex items-center justify-between pt-3 gap-2">
              <span class="font-semibold">${p.price}</span>
              <div class="flex gap-2">
                <button class="add-btn rounded-xl bg-slate-900 text-white px-3 py-1.5 text-sm hover:bg-slate-800" data-id="${p.id}">Ajouter</button>
                <a class="text-sm underline hover:no-underline" target="_blank"
                   href="https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent("Bonjour, je veux "+p.title+" ("+p.price+")")}">
                  Achat direct
                </a>
              </div>
            </div>
          </div>`;
        grid.appendChild(card);
      });
      document.querySelectorAll(".add-btn").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const id=btn.getAttribute("data-id");
          const prod=PRODUCTS.find(x=>x.id===id);
          if(prod){ addToCart(prod,1); btn.textContent="Ajout√© ‚úì"; setTimeout(()=>btn.textContent="Ajouter",900); }
        });
      });
    }

    // ------------ FILTRES ------------
    document.querySelectorAll(".filter-btn").forEach(btn=>{
      btn.addEventListener("click",()=>{
        document.querySelectorAll(".filter-btn").forEach(b=>b.classList.remove("bg-slate-900","text-white"));
        btn.classList.add("bg-slate-900","text-white");
        currentFilter=btn.dataset.filter; render(PRODUCTS);
      });
    });

    // ------------ POPUP PANIER ------------
    const cartModal=document.getElementById("cartModal");
    const openCart=document.getElementById("openCart");
    const closeCart=document.getElementById("closeCart");
    const continueBtn=document.getElementById("continue");
    const closeAndShop=document.getElementById("closeAndShop");
    const rows=document.getElementById("rows");
    const empty=document.getElementById("empty");
    const cartBox=document.getElementById("cartBox");
    const totalEl=document.getElementById("total");
    const waBtn=document.getElementById("wa");
    const clearBtn=document.getElementById("clear");

    function renderCart(){
      const cart=loadCart();
      if(!cart.length){
        empty.classList.remove("hidden");
        cartBox.classList.add("hidden");
        totalEl.textContent="0 ‚Ç¨";
      }else{
        empty.classList.add("hidden");
        cartBox.classList.remove("hidden");
        rows.innerHTML="";
        cart.forEach(item=>{
          const tr=document.createElement("tr");
          const sub=parsePrice(item.price)*item.qty;
          tr.className="border-b";
          tr.innerHTML=`
            <td class="p-3">
              <div class="flex items-center gap-3">
                <img src="${item.image}" class="w-14 h-14 object-cover rounded-lg border" alt="">
                <div><div class="font-medium">${item.title}</div><div class="text-xs text-slate-500">${item.id}</div></div>
              </div>
            </td>
            <td class="p-3">${item.price}</td>
            <td class="p-3"><input data-qty="${item.id}" type="number" min="1" value="${item.qty}" class="w-16 rounded border px-2 py-1"></td>
            <td class="p-3 font-medium">${formatPrice(sub)}</td>
            <td class="p-3 text-right"><button data-del="${item.id}" class="text-sm text-red-600 hover:underline">Supprimer</button></td>
          `;
          rows.appendChild(tr);
        });
        totalEl.textContent=formatPrice(cartTotal());
        rows.querySelectorAll("[data-qty]").forEach(input=>{
          input.addEventListener("change",()=>{
            setQty(input.getAttribute("data-qty"), parseInt(input.value,10));
            renderCart();
          });
        });
        rows.querySelectorAll("[data-del]").forEach(btn=>{
          btn.addEventListener("click",()=>{ removeFromCart(btn.getAttribute("data-del")); renderCart(); });
        });
      }
    }

    function openCartModal(){ cartModal.classList.remove("hidden"); renderCart(); }
    function closeCartModal(){ cartModal.classList.add("hidden"); }

    openCart.addEventListener("click", openCartModal);
    closeCart.addEventListener("click", closeCartModal);
    continueBtn.addEventListener("click", closeCartModal);
    if(closeAndShop) closeAndShop.addEventListener("click", closeCartModal);
    clearBtn.addEventListener("click", ()=>{ clearCart(); renderCart(); });
    waBtn.addEventListener("click", openWhatsAppWithCart);
    document.addEventListener("keydown", e=>{ if(e.key==="Escape") closeCartModal(); });

    // ------------ INIT ------------
    document.getElementById("y").textContent=new Date().getFullYear();
    updateCartBadge();
    render(PRODUCTS);
  </script>
</body>
</html>
